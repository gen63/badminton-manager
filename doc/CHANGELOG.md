# Changelog - バドミントン練習管理システム

## Phase 0 実装履歴

### 2026-01-30 - 初回リリース + UX改善

#### 🎉 初回実装
- ✅ セッション作成画面（コート数、点数、練習日）
- ✅ 参加者選択画面
- ✅ メイン画面（コート管理、ゲーム進行）
- ✅ 履歴・統計画面
- ✅ 設定画面
- ✅ 自動配置アルゴリズム
- ✅ LocalStorage永続化
- ✅ GitHub Pagesデプロイ

#### 🚀 UX改善（13:12以降）

**ボタンフィードバック改善**
- 選択中のボタンに太い枠線と拡大効果
- タップ時の縮小アニメーション
- 視覚的にどこがタップされたか明確に

**UI表記の改善**
- 「目標点数」→「点数」に変更
- 「自動配置」→「配置」に変更（各コート個別）
- 「全コートに一括配置」ボタンを追加
- 「ゲーム開始」→「開始」、「ゲーム終了」→「終了」に短縮

**プレイヤー入力の改善**
- input → textarea に変更
- 改行区切りで複数人を一度に追加可能
- プレースホルダーで使い方を表示

**コート配置の改善**
- 各コートの「配置」ボタンで個別配置
- 「全コートに一括配置」で全コート同時配置
- トースト通知でどのコートに配置したか明示

**メイン画面の機能追加**
- チームA/B表記を削除（よりシンプルに）
- 「アクティブ」→「待機中」に変更
- 参加者一覧をレスポンシブグリッド表示（2〜5列）
- 最新5件の試合ログエリアを追加
- メンバー交換機能を実装（モーダル形式）
- コート数 +/- ボタンを追加（1〜3）

**コンポーネント化**
- CourtCard: コート表示コンポーネント
- PlayerSwapModal: メンバー交換モーダル
- Toast: 通知システム
- EmptyState: 空状態表示
- useGameTimer: ゲームタイマーフック
- useToast: トースト通知フック

#### 📊 実装済み機能一覧

**セッション管理**
- セッション作成・設定
- コート数動的調整（メイン画面）
- 点数設定（11/15/21）
- LocalStorage永続化

**参加者管理**
- 複数行一括入力
- プレイヤー追加・削除
- 休憩設定
- 待機中/休憩中の表示

**ゲーム進行**
- 全コート一括配置
- コートごとの個別配置
- メンバー交換（コート内 ⇔ 待機中）
- ゲーム開始・終了
- リアルタイムタイマー
- スコア入力（+/-）
- リーチ表示（目標点数到達時）

**試合ログ・統計**
- メイン画面に最新5件表示
- 全試合履歴
- プレイヤー統計（試合数、勝敗、得点）
- 履歴コピー

**UI/UX**
- Toast通知システム
- ボタンタップフィードバック
- リセット確認モーダル
- レスポンシブデザイン
- PWA対応（manifest.json、favicon）

#### 🔧 技術的改善
- Tailwind CSS v4対応（@tailwindcss/postcss）
- TypeScriptエラー修正
- コンポーネント分割
- カスタムフック作成

#### 🔧 追加改善（13:57）

**試合ログの改善**
- 時間情報を削除（よりシンプルに）

**レイアウト改善**
- コート1, 2, 3を横並びレイアウトに変更
- 横スクロール対応
- カードの最小幅を固定（280px）

**メンバー交換機能の改善**
- 交換時のメッセージをより具体的に
- 「〇〇 と △△ を交換しました」と表示

#### 🎨 大幅な設計変更とUI改善（14:00-14:48）

**ゲーム進行フローの変更**
- 試合中のスコア入力機能を削除（設計外の機能）
- 試合終了時はスコア0-0で履歴に保存
- 後からスコア入力する想定に変更

**統計機能の削除**
- 履歴画面のプレイヤー統計を削除
- 心理的安全性を阻害するため

**レイアウト改善**
- コートカードを横並び（flex）に変更
- カードのパディング・余白を削減（よりコンパクトに）
- 横スクロールを極力発生させないように調整

**待機中一覧の改善**
- コートに配置されたプレイヤーを待機中一覧から削除
- コート外のプレイヤーのみを表示

**グリッド表示の変更**
- 参加者一覧のグリッドを2列→3列に変更（待機中・休憩中とも）

**試合ログの変更**
- 「最近の試合」→「スコア未入力の試合」に変更
- スコア0-0の試合のみを最大5件表示
- スコア表示を削除（未入力のため）
- クリック時のスコア入力機能は次回実装予定

**設定画面の簡素化**
- セッション情報エリアを削除（セッションID、練習日）
- バージョン情報を削除

**メイン画面ヘッダーの簡素化**
- 「🏸 練習管理」タイトルを削除
- 日付表示を削除
- 点数設定表示を削除
- 履歴・設定ボタンのみ表示（右寄せ）

#### 🎯 仕様書準拠の実装（14:53）

**S04: スコア入力画面を実装（完全新規）**
- 0〜30の点数ボタングリッド
- 入力履歴表示（例: 21 - 15）
- クリア・確定ボタン
- スコア未入力の試合から遷移

**S03: メイン画面の機能追加**
- クリアボタンを追加（配置をリセット）
- タップ方式のメンバー入れ替えを実装
  - 1回目タップ: 選択（背景色変化）
  - 2回目タップ: 交換実行
  - コート内 ↔ コート内も可能
  - コート内 ↔ 待機者も可能
- 待機者リストを試合数昇順でソート
- 待機者に試合数を表示

**S01/S02: 参加者フローの修正**
- S01で事前に参加者を入力（改行区切り）
- S01から直接メイン画面へ遷移
- S02を参加者管理画面（S07）として再利用
- 設定画面から参加者管理へアクセス可能

**コートカードの改善**
- 各プレイヤーを個別にタップ可能に
- 選択状態を視覚的に表示
- 状態に応じたボタン表示（空き/配置済み/ゲーム中）

---

## 今後の予定（Phase 1）

- Firebase Firestore連携
- 複数デバイス対応
- リアルタイム同期
- セッション共有（URL）
- 権限管理（管理者/サブ管理者/一般参加者）
- プッシュ通知（FCM）
- スプレッドシート連携

---

最終更新: 2026-01-30 13:39
